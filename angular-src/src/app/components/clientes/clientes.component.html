<h2 class="page-header">Gestion de Clientes</h2>
<div (click)="$event.preventDefault()">
    <tabset [justified]="true">
        <tab heading="Tipo Clientes">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <hr>
                <h3 style="text-align:center">Tipo de Clientes</h3>
                <hr>
            </div>
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 col-sm-12 col-xs-12">
                <ng2-smart-table id="dtTipoClientes" [settings]="settingsTC" [source]="sourceTC" (create)="showDialog2 = !showDialog2;onCreateTC($event);setCursorAddTC()"
                    (edit)="showDialog3 = !showDialog3;onUpdateTC($event);setCursorUpdateTC()"></ng2-smart-table>
            </div>
        </tab>
        <tab heading="Clientes">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <hr>
                <h3 style="text-align:center">Clientes</h3>
                <hr>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <ng2-smart-table id="dtClientes" [settings]="settingsC" [source]="sourceC" (create)="showDialog = !showDialog;onCreate($event);setCursorAdd()"
                    (edit)="showDialog1 = !showDialog1;onUpdate($event);setCursorUpdate()"></ng2-smart-table>
            </div>
        </tab>
    </tabset>
</div>

<!-- ADD CLIENT -->
<app-dialog [(visible)]="showDialog" (visibleChange)="change($event)" #dialog="dialog">
    <h3 style="text-align: center">
        Registrar Cliente
    </h3>
    <hr>
    <flash-messages *ngIf="flagCreate"></flash-messages>
    <!-- Cedula -->
    <div class="col-lg-6 col-md-6">
        <label for="ci" style="display: inline-block">Cedula</label>
        <input type="text" [(ngModel)]="cedula" id="ci" name="ci" placeholder="Cedula del cliente" class="form-control input-sm">
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Telefono -->
        <label for="telefono">Telefono</label>
        <input type="text" [(ngModel)]="telefono" id="telefono" name="telefono" placeholder="Telefono del cliente" class="form-control  input-sm">
        <br>
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Nombre -->
        <label class="cols-sm-2 control-label" for="username">Nombre</label>
        <input type="text" [(ngModel)]="nombre" id="nombre" name="nombre" placeholder="Nombre del cliente" class="form-control  input-sm">
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Apellido -->
        <label class="cols-sm-2 control-label" for="apellido">Apellido</label>
        <input type="text" [(ngModel)]="apellido" id="apellido" name="apellido" placeholder="Apellido del cliente" class="form-control  input-sm">
        <br>
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- E-mail -->
        <label class="control-label" for="email">E-mail</label>
        <input type="text" [(ngModel)]="email" id="email" name="email" placeholder="Correo del cliente" class="form-control  input-sm">
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Sexo -->
        <label class="control-label" for="fecha">Sexo</label><br>
        <div class="radio">
            &nbsp;&nbsp;&nbsp;<label class="form-check-inline">
                <input class="form-check-input" type="radio" name="mode" [value]="1" [(ngModel)]="sexo">
            Masculino&nbsp;&nbsp;&nbsp;&nbsp;
            </label>
            <label class="form-check-inline">
                <input class="form-check-input" type="radio" name="mode" [value]="2" [(ngModel)]="sexo">
            Femenino
            </label>
        </div>
        <br>
    </div>
    <div class="col-lg-6 col-md-6">
        <label class="control-label" for="fecha">Fecha de nacimiento (MM/DD/AAAA)</label>
        <!-- Fecha de nacimiento -->
        <div class="input-group col-lg-12 col-md-12">
            <input type="text" value="{{ getDate() | date:'shortDate'}}" [(ngModel)]="fechaNacimientoString" id="fecha" name="fecha"
                placeholder="MM/DD/YYYY" class="form-control  input-sm">
            <span (click)="showCalendar()" class="input-group-addon input-sm" id="btnCalendar"><i class="fa fa-calendar" aria-hidden="true"></i></span>
        </div>
    </div>
    <div class="col-lg-6 col-md-6">
        <label class="control-label" for="tipoC">Tipo Cliente</label>
        <select [(ngModel)]="selected_tipo_cliente" id="tipoC" name="tipoC" class="form-control input-sm">
            <option value="" disabled selected hidden>Selecciona...</option>
            <option *ngFor="let c of tipo_clientes" [ngValue]="c">{{c.desc_tipo_cliente}}</option>
        </select>
    </div>
    <div class="col-lg-6 col-md-6" *ngIf="showDatepicker">
        <!--calendar-->
        <div style="display:inline-block;text-align: center">
            <datepicker [(ngModel)]="dt" [showWeeks]="false"></datepicker>
        </div>
    </div>
    <!-- Button -->
    <div class="col-lg-12 col-md-12">
        <br>
        <div class="form-group" style="text-align: center">
            <button class="btn btn-primary" (click)="saveUser()" style="width: 25%">Registrar</button>
            <button class="btn btn-default" (click)="showDialog = !showDialog" style="width: 25%">Cancelar</button>
        </div>
    </div>
</app-dialog>

<!-- UPDATE CLIENT -->
<app-dialog [(visible)]="showDialog1" (visibleChange)="changeU($event)" #dialog1="dialog">
    <h3 style="text-align: center">
        Actualizar Cliente
    </h3>
    <hr>
    <flash-messages *ngIf="flagUpdate"></flash-messages>
    <!-- Cedula -->
    <div class="col-lg-6 col-md-6">
        <label for="ciU" style="display: inline-block">Cedula</label>
        <input type="text" [(ngModel)]="cedula" id="ciU" name="ciU" placeholder="Cedula del cliente" class="form-control input-sm">
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Telefono -->
        <label for="telefonoU">Telefono</label>
        <input type="text" [(ngModel)]="telefono" id="telefonoU" name="telefonoU" placeholder="Telefono del cliente" class="form-control  input-sm">
        <br>
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Nombre -->
        <label class="cols-sm-2 control-label" for="usernameU">Nombre</label>
        <input type="text" [(ngModel)]="nombre" id="nombreU" name="nombreU" placeholder="Nombre del cliente" class="form-control  input-sm">
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Apellido -->
        <label class="cols-sm-2 control-label" for="apellidoU">Apellido</label>
        <input type="text" [(ngModel)]="apellido" id="apellidoU" name="apellidoU" placeholder="Apellido del cliente" class="form-control  input-sm">
        <br>
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- E-mail -->
        <label class="control-label" for="emailU">E-mail</label>
        <input type="text" [(ngModel)]="email" id="emailU" name="emailU" placeholder="Correo del cliente" class="form-control  input-sm">
    </div>
    <div class="col-lg-6 col-md-6">
        <!-- Sexo -->
        <label class="control-label" for="fechaU">Sexo</label><br>
        <div class="radio">
            &nbsp;&nbsp;&nbsp;<label class="form-check-inline">
                <input class="form-check-input" type="radio" name="mode" [value]="1" [(ngModel)]="sexo">
            Masculino&nbsp;&nbsp;&nbsp;&nbsp;
            </label>
            <label class="form-check-inline">
                <input class="form-check-input" type="radio" name="mode" [value]="2" [(ngModel)]="sexo">
            Femenino
            </label>
        </div>
        <br>
    </div>
    <div class="col-lg-6 col-md-6">
        <label class="control-label" for="fecha">Fecha de nacimiento (MM/DD/AAAA)</label>
        <!-- Fecha de nacimiento -->
        <div class="input-group col-lg-12 col-md-12">
            <input type="text" value="{{ getDate() | date:'shortDate'}}" [(ngModel)]="fechaNacimientoString" id="fechaU" name="fechaU"
                placeholder="MM/DD/YYYY" class="form-control  input-sm">
            <span (click)="showCalendar()" class="input-group-addon input-sm" id="btnCalendar"><i class="fa fa-calendar" aria-hidden="true"></i></span>
        </div>
    </div>
    <div class="col-lg-6 col-md-6">
        <label class="control-label" for="tipoC">Tipo Cliente</label>
        <select [(ngModel)]="selected_tipo_cliente" id="tipoC" name="tipoC" class="form-control input-sm">
            <option value="" disabled selected hidden>Selecciona...</option>
            <option *ngFor="let c of tipo_clientes" [ngValue]="c">{{c.desc_tipo_cliente}}</option>
        </select>
    </div>
    <div class="col-lg-6 col-md-6" *ngIf="showDatepicker">
        <!--calendar-->
        <div style="display:inline-block;text-align: center">
            <datepicker [(ngModel)]="dt" [showWeeks]="false"></datepicker>
        </div>
    </div>
    <br>
    <div class="col-lg-12 col-md-12">
        <br>
        <!-- Button -->
        <div class="form-group" style="text-align: center">
            <button class="btn btn-primary" (click)="updateUser()" style="width: 25%">Actualizar</button>
            <button class="btn btn-default" (click)="showDialog1 = !showDialog1" style="width: 25%">Cancelar</button>
        </div>
    </div>
</app-dialog>